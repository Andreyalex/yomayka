<?php

$db = &JFactory::getDBO();
$mainframe =& JFactory::getApplication();

$countries=array();

$countries[]='Афганистан';
$countries[]='Албания';
$countries[]='Алжир';
$countries[]='Американское Самоа';
$countries[]='Андорра';
$countries[]='Ангола';
$countries[]='Ангилья';
$countries[]='Антарктида';
$countries[]='Антигуа и Барбуда';
$countries[]='Аргентина';
$countries[]='Армения';
$countries[]='Аруба';
$countries[]='Австралия';
$countries[]='Австрия';
$countries[]='Азербайджан';
$countries[]='Багамские острова';
$countries[]='Бахрейн';
$countries[]='Бангладеш';
$countries[]='Барбадос';
$countries[]='Беларусь';
$countries[]='Бельгия';
$countries[]='Белиз';
$countries[]='Бенин';
$countries[]='Бермудские острова';
$countries[]='Бутан';
$countries[]='Боливия';
$countries[]='Босния и Герцеговина';
$countries[]='Ботсвана';
$countries[]='Буве';
$countries[]='Бразилия';
$countries[]='Британская территория Индийского океана';
$countries[]='Бруней-Даруссалам';
$countries[]='Болгария';
$countries[]='Буркина-Фасо';
$countries[]='Бурунди';
$countries[]='Камбоджа';
$countries[]='Камерун';
$countries[]='Канада';
$countries[]='Кабо-Верде';
$countries[]='Каймановы острова';
$countries[]='Центрально-Африканская Республика';
$countries[]='Чад';
$countries[]='Чили';
$countries[]='Китай';
$countries[]='Остров Рождества';
$countries[]='Кокосовые (Килинг) острова';
$countries[]='Колумбия';
$countries[]='Коморские острова';
$countries[]='Конго';
$countries[]='Острова Кука';
$countries[]='Коста-Рика';
$countries[]='Кот-д`Ивуар D';
$countries[]='Хорватия';
$countries[]='Куба';
$countries[]='Кипр';
$countries[]='Чешская республика';
$countries[]='Дания';
$countries[]='Джибути';
$countries[]='Доминика';
$countries[]='Доминиканская Республика';
$countries[]='Восточный Тимор';
$countries[]='Эквадор';
$countries[]='Египет'; 
$countries[]='Сальвадор';
$countries[]='Экваториальная Гвинея';
$countries[]='Эритрея';
$countries[]='Эстония';
$countries[]='Эфиопия';
$countries[]='Фолклендские (Мальвинские) острова';
$countries[]='Фарерские острова';
$countries[]='Фиджи';
$countries[]='Финляндия';
$countries[]='Франция';
$countries[]='Митрополит Франции'; 
$countries[]='Французская Гвиана';
$countries[]='Французская Полинезия';
$countries[]='Французские южные территории';
$countries[]='Габон';
$countries[]='Гамбия';
$countries[]='Грузия';
$countries[]='Германия';
$countries[]='Гана';
$countries[]='Гибралтар';
$countries[]='Греция'; 
$countries[]='Гренландия';
$countries[]='Гренада';
$countries[]='Гваделупа';
$countries[]='Гуам';
$countries[]='Гватемала';
$countries[]='Гвинея'; 
$countries[]='Гвинея-Бисау';
$countries[]='Гайана';
$countries[]='Гаити';
$countries[]='Херд и Макдональд острова';
$countries[]='Гондурас';
$countries[]='Гонконг'; 
$countries[]='Венгрия';
$countries[]='Исландия';
$countries[]='Индия'; 
$countries[]='Индонезия';
$countries[]='Иран (Исламская Республика)';
$countries[]='Ирак'; 
$countries[]='Ирландия';
$countries[]='Израиль';
$countries[]='Италия'; 
$countries[]='Ямайка';
$countries[]='Япония';
$countries[]='Иордания'; 
$countries[]='Казахстан';
$countries[]='Кения';
$countries[]='Кирибати'; 
$countries[]='Корея Северная';
$countries[]='Корея Южная'; 
$countries[]='Кувейт';
$countries[]='Киргизия';
$countries[]='Лаос'; 
$countries[]='Латвия';
$countries[]='Ливан'; 
$countries[]='Лесото';
$countries[]='Либерия';
$countries[]='Ливийской Арабской Джамахирии'; 
$countries[]='Лихтенштейн';
$countries[]='Литва'; 
$countries[]='Люксембург';
$countries[]='Макао';
$countries[]='Македония'; 
$countries[]='Мадагаскар';
$countries[]='Малави'; 
$countries[]='Малайзия';
$countries[]='Мальдивы'; 
$countries[]='Мали';
$countries[]='Мальта'; 
$countries[]='Маршалловы острова';
$countries[]='Мартиника'; 
$countries[]='Мавритания';
$countries[]='Маврикий'; 
$countries[]='Майотта';
$countries[]='Мексика';
$countries[]='Микронезии Федеративные Штаты';
$countries[]='Республика Молдова'; 
$countries[]='Монако';
$countries[]='Монголия'; 
$countries[]='Монтсеррат';
$countries[]='Марокко'; 
$countries[]='Мозамбик';
$countries[]='Мьянма'; 
$countries[]='Намибия';
$countries[]='Науру'; 
$countries[]='Непал';
$countries[]='Нидерланды'; 
$countries[]='Нидерландские Антильские острова';
$countries[]='Новая Каледония'; 
$countries[]='Новая Зеландия';
$countries[]='Никарагуа'; 
$countries[]='Нигер';
$countries[]='Нигерия'; 
$countries[]='Ниуэ';
$countries[]='Остров Норфолк'; 
$countries[]='Северные Марианские острова';
$countries[]='Норвегия';
$countries[]='Оман';
$countries[]='Пакистан'; 
$countries[]='Палау';
$countries[]='Панама';
$countries[]='Папуа-Новая Гвинея';
$countries[]='Парагвай'; 
$countries[]='Перу';
$countries[]='Филиппины';
$countries[]='Питкэрн';
$countries[]='Польша'; 
$countries[]='Португалия';
$countries[]='Пуэрто-Рико';
$countries[]='Катар';
$countries[]='Реюньон'; 
$countries[]='Румыния';
$countries[]='Россия';
$countries[]='Руанда';
$countries[]='Сент-Китс и Невис'; 
$countries[]='Сент-Люсия';
$countries[]='Сент-Винсент и Гренадины';
$countries[]='Самоа';
$countries[]='Сан - Марино'; 
$countries[]='Сан-Томе и Принсипи';
$countries[]='Саудовская Аравия';
$countries[]='Сенегал';
$countries[]='Сейшельские острова'; 
$countries[]='Сьерра-Леоне';
$countries[]='Сингапур';
$countries[]='Словакия (Словацкая Республика)';
$countries[]='Словения'; 
$countries[]='Соломоновы острова';
$countries[]='Сомали';
$countries[]='ЮАР';
$countries[]='Южная Джорджия и Южные Сандвичевы острова'; 
$countries[]='Испания';
$countries[]='Шри Ланка';
$countries[]='Св. Елены';
$countries[]='Сен-Пьер и Микелон'; 
$countries[]='Судан';
$countries[]='Суринам';
$countries[]='Шпицберген и Ян-Майен';
$countries[]='Свазиленд'; 
$countries[]='Швеция';
$countries[]='Швейцария';
$countries[]='Сирийской Арабской Республики';
$countries[]='Тайвань'; 
$countries[]='Таджикистан';
$countries[]='Танзания, Объединенная Республика';
$countries[]='Таиланд';
$countries[]='Того'; 
$countries[]='Токелау';
$countries[]='Тонга';
$countries[]='Тринидад и Тобаго';
$countries[]='Тунис'; 
$countries[]='Турция';
$countries[]='Туркменистан';
$countries[]='Острова Теркс и Кайкос'; 
$countries[]='Тувалу';
$countries[]='Уганда';
$countries[]='Украина';
$countries[]='Объединенные Арабские Эмираты'; 
$countries[]='Великобритания';
$countries[]='Соединенные Штаты Америки';
$countries[]='Соединенные Штаты Америки Внешние малые острова';
$countries[]='Уругвай'; 
$countries[]='Узбекистан';
$countries[]='Вануату';
$countries[]='Город-государство Ватикан (Святейший Престол)';
$countries[]='Венесуэла'; 
$countries[]='Вьетнам';
$countries[]='Виргинские острова (Британские)';
$countries[]='Виргинские острова (США)';
$countries[]='Уоллис и Футуна'; 
$countries[]='Западная Сахара';
$countries[]='Йемен';
$countries[]='Югославия';
$countries[]='Заир'; 
$countries[]='Замбия';
$countries[]='Зимбабве';                       

$query = "SELECT id FROM #__jshopping_languages WHERE `language`='ru-RU'";
$db->setQuery($query);
$id=$db->LoadResult();
if ($id){
    foreach($countries as $key=>$value){   
        $sql = "UPDATE #__jshopping_countries SET `name_ru-RU`= '".$value."' WHERE `country_id`=".($key+1);
        $db->setQuery($sql);
        $db->query();
    }
    if (!JRequest::getInt("noredirect")){
            $mainframe->redirect("index.php?option=com_jshopping&controller=update", _JSHOP_COMPLETED);
        } 
} else{
  JError::raiseWarning("","Can not update the table of languages, Russian language is not installed"); 
} 
?>